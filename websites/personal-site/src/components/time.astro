---
import { If } from '@marmadilemanteater/astro-logic-components'
import { formatLongDate, formatShortDate } from '../helpers'

interface Props {
  datetime: Date,
  displayUTCTime?: boolean
}

const { datetime, displayUTCTime = false }: Props = Astro.props
const shortDate = formatShortDate(datetime)
const longDate = formatLongDate(datetime)
let hours: number|string = datetime.getUTCHours()
let minutes: number|string = datetime.getUTCMinutes()
if (hours < 10) {
  hours = `0${hours}`
}
if (minutes < 10) {
  minutes = `0${minutes}`
}
const time = `${hours}:${minutes}`
---
<time datetime={shortDate} >{longDate}<If condition={displayUTCTime}>&nbsp;@&nbsp;{time}</If></time>
